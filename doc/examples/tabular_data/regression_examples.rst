:orphan:



.. _sphx_glr_examples_regression:

.. _regression_examples:

Regression examples
===================

.. raw:: html

    <div class="sphx-glr-clear"></div>



.. _sphx_glr_examples_regression_1-quickstart:

.. _regression_examples_1:

1. Quickstart examples
----------------------

The following examples present the main functionalities of MAPIE through basic quickstart regression problems.


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="Plotting MAPIE prediction intervals with a toy dataset">

.. only:: html

 .. figure:: /examples_regression/1-quickstart/images/thumb/sphx_glr_plot_toy_model_thumb.png
     :alt: Plotting MAPIE prediction intervals with a toy dataset

     :ref:`sphx_glr_examples_regression_1-quickstart_plot_toy_model.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/1-quickstart/plot_toy_model

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="Plotting CQR with symmetric argument">

.. only:: html

 .. figure:: /examples_regression/1-quickstart/images/thumb/sphx_glr_plot_cqr_symmetry_difference_thumb.png
     :alt: Plotting CQR with symmetric argument

     :ref:`sphx_glr_examples_regression_1-quickstart_plot_cqr_symmetry_difference.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/1-quickstart/plot_cqr_symmetry_difference

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="We use here the Victoria electricity demand dataset used in the book &quot;Forecasting: Principles a...">

.. only:: html

 .. figure:: /examples_regression/1-quickstart/images/thumb/sphx_glr_plot_timeseries_example_thumb.png
     :alt: Estimating prediction intervals of time series forecast

     :ref:`sphx_glr_examples_regression_1-quickstart_plot_timeseries_example.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/1-quickstart/plot_timeseries_example

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="We use here the OpenML house_prices dataset: https://www.openml.org/search?type=data&amp;sort=runs&amp;...">

.. only:: html

 .. figure:: /examples_regression/1-quickstart/images/thumb/sphx_glr_plot_compare_conformity_scores_thumb.png
     :alt: Estimating prediction intervals of Gamma distributed target

     :ref:`sphx_glr_examples_regression_1-quickstart_plot_compare_conformity_scores.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/1-quickstart/plot_compare_conformity_scores

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="MapieRegressor and MapieQuantileRegressor are used to calibrate uncertainties for large models ...">

.. only:: html

 .. figure:: /examples_regression/1-quickstart/images/thumb/sphx_glr_plot_prefit_thumb.png
     :alt: Example use of the prefit parameter with neural networks and LGBM Regressor

     :ref:`sphx_glr_examples_regression_1-quickstart_plot_prefit.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/1-quickstart/plot_prefit

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="MapieRegressor and MapieQuantileRegressor is used to estimate the prediction intervals of 1D ho...">

.. only:: html

 .. figure:: /examples_regression/1-quickstart/images/thumb/sphx_glr_plot_homoscedastic_1d_data_thumb.png
     :alt: Estimate the prediction intervals of 1D homoscedastic data

     :ref:`sphx_glr_examples_regression_1-quickstart_plot_homoscedastic_1d_data.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/1-quickstart/plot_homoscedastic_1d_data

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="MapieRegressor and MapieQuantileRegressor is used to estimate the prediction intervals of 1D he...">

.. only:: html

 .. figure:: /examples_regression/1-quickstart/images/thumb/sphx_glr_plot_heteroscedastic_1d_data_thumb.png
     :alt: Estimate the prediction intervals of 1D heteroscedastic data

     :ref:`sphx_glr_examples_regression_1-quickstart_plot_heteroscedastic_1d_data.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/1-quickstart/plot_heteroscedastic_1d_data
.. raw:: html

    <div class="sphx-glr-clear"></div>



.. _sphx_glr_examples_regression_2-advanced-analysis:

.. _regression_examples_2:

2. Advanced analysis
--------------------

The following examples use MAPIE for discussing more complex MAPIE problems.


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="Make Conformal Predictive Distribution with MAPIE">

.. only:: html

 .. figure:: /examples_regression/2-advanced-analysis/images/thumb/sphx_glr_plot_conformal_predictive_distribution_thumb.png
     :alt: Make Conformal Predictive Distribution with MAPIE

     :ref:`sphx_glr_examples_regression_2-advanced-analysis_plot_conformal_predictive_distribution.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/2-advanced-analysis/plot_conformal_predictive_distribution

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example compares non-nested and nested cross-validation strategies for estimating predicti...">

.. only:: html

 .. figure:: /examples_regression/2-advanced-analysis/images/thumb/sphx_glr_plot_nested-cv_thumb.png
     :alt: Nested cross-validation for estimating prediction intervals

     :ref:`sphx_glr_examples_regression_2-advanced-analysis_plot_nested-cv.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/2-advanced-analysis/plot_nested-cv

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="Estimating aleatoric and epistemic uncertainties">

.. only:: html

 .. figure:: /examples_regression/2-advanced-analysis/images/thumb/sphx_glr_plot_both_uncertainties_thumb.png
     :alt: Estimating aleatoric and epistemic uncertainties

     :ref:`sphx_glr_examples_regression_2-advanced-analysis_plot_both_uncertainties.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/2-advanced-analysis/plot_both_uncertainties

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="Estimating coverage width based criterion">

.. only:: html

 .. figure:: /examples_regression/2-advanced-analysis/images/thumb/sphx_glr_plot-coverage-width-based-criterion_thumb.png
     :alt: Estimating coverage width based criterion

     :ref:`sphx_glr_examples_regression_2-advanced-analysis_plot-coverage-width-based-criterion.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/2-advanced-analysis/plot-coverage-width-based-criterion

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example uses MapieTimeSeriesRegressor to estimate prediction intervals associated with tim...">

.. only:: html

 .. figure:: /examples_regression/2-advanced-analysis/images/thumb/sphx_glr_plot_timeseries_enbpi_thumb.png
     :alt: Estimating prediction intervals of time series forecast with EnbPI

     :ref:`sphx_glr_examples_regression_2-advanced-analysis_plot_timeseries_enbpi.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/2-advanced-analysis/plot_timeseries_enbpi

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="Estimating conditional coverage">

.. only:: html

 .. figure:: /examples_regression/2-advanced-analysis/images/thumb/sphx_glr_plot_conditional_coverage_thumb.png
     :alt: Estimating conditional coverage

     :ref:`sphx_glr_examples_regression_2-advanced-analysis_plot_conditional_coverage.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/2-advanced-analysis/plot_conditional_coverage

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example verifies that conformal claims are valid in the MAPIE package when using the CP pr...">

.. only:: html

 .. figure:: /examples_regression/2-advanced-analysis/images/thumb/sphx_glr_plot_coverage_validity_thumb.png
     :alt: Coverage Validity with MAPIE for Regression Task

     :ref:`sphx_glr_examples_regression_2-advanced-analysis_plot_coverage_validity.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/2-advanced-analysis/plot_coverage_validity
.. raw:: html

    <div class="sphx-glr-clear"></div>



.. _sphx_glr_examples_regression_3-scientific-articles:

.. _regression_examples_3:

3. Simulations from scientific articles
---------------------------------------

The following examples reproduce the simulations from the scientific
articles that introduce the methods implemented
in MAPIE for regression settings.


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="MapieRegressor is used to investigate the coverage level and the prediction interval width as a...">

.. only:: html

 .. figure:: /examples_regression/3-scientific-articles/images/thumb/sphx_glr_plot_barber2020_simulations_thumb.png
     :alt: Reproducing the simulations from Foygel-Barber et al. (2020)

     :ref:`sphx_glr_examples_regression_3-scientific-articles_plot_barber2020_simulations.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/3-scientific-articles/plot_barber2020_simulations

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="MapieTimeSeriesRegressor is used to reproduce a part of the paper experiments of Zaffran et al....">

.. only:: html

 .. figure:: /examples_regression/3-scientific-articles/images/thumb/sphx_glr_plot_zaffran2022_comparison_thumb.png
     :alt: Reproduction of part of the paper experiments of Zaffran et al. (2022)

     :ref:`sphx_glr_examples_regression_3-scientific-articles_plot_zaffran2022_comparison.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/3-scientific-articles/plot_zaffran2022_comparison

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="MapieRegressor is used to reproduce the simulations by Kim et al. (2020) [1] in their article w...">

.. only:: html

 .. figure:: /examples_regression/3-scientific-articles/images/thumb/sphx_glr_plot_kim2020_simulations_thumb.png
     :alt: Reproducing the simulations from Kim et al. (2020)

     :ref:`sphx_glr_examples_regression_3-scientific-articles_plot_kim2020_simulations.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/3-scientific-articles/plot_kim2020_simulations
.. raw:: html

    <div class="sphx-glr-clear"></div>



.. _sphx_glr_examples_regression_4-tutorials:

.. _regression_examples_4:

4. Tutorials
------------

The following examples present pedagogical tutorials explaining how to use MAPIE on different regression taks.


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="We will explicit the experimental setup below.">

.. only:: html

 .. figure:: /examples_regression/4-tutorials/images/thumb/sphx_glr_plot_ResidualNormalisedScore_tutorial_thumb.png
     :alt: Tutorial for residual normalised score

     :ref:`sphx_glr_examples_regression_4-tutorials_plot_ResidualNormalisedScore_tutorial.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/4-tutorials/plot_ResidualNormalisedScore_tutorial

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="We will use the sklearn california housing dataset as the base for the comparison of the differ...">

.. only:: html

 .. figure:: /examples_regression/4-tutorials/images/thumb/sphx_glr_plot_cqr_tutorial_thumb.png
     :alt: Tutorial for conformalized quantile regression (CQR)

     :ref:`sphx_glr_examples_regression_4-tutorials_plot_cqr_tutorial.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/4-tutorials/plot_cqr_tutorial

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="In this tutorial we describe how to use MapieTimeSeriesRegressor to estimate prediction interva...">

.. only:: html

 .. figure:: /examples_regression/4-tutorials/images/thumb/sphx_glr_plot_ts-tutorial_thumb.png
     :alt: Tutorial for time series

     :ref:`sphx_glr_examples_regression_4-tutorials_plot_ts-tutorial.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/4-tutorials/plot_ts-tutorial

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="In this tutorial, we compare the prediction intervals estimated by MAPIE on a simple, one-dimen...">

.. only:: html

 .. figure:: /examples_regression/4-tutorials/images/thumb/sphx_glr_plot_main-tutorial-regression_thumb.png
     :alt: Tutorial for tabular regression

     :ref:`sphx_glr_examples_regression_4-tutorials_plot_main-tutorial-regression.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /examples_regression/4-tutorials/plot_main-tutorial-regression
.. raw:: html

    <div class="sphx-glr-clear"></div>



.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-gallery


  .. container:: sphx-glr-download sphx-glr-download-python

    :download:`Download all examples in Python source code: examples_regression_python.zip </examples_regression/examples_regression_python.zip>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

    :download:`Download all examples in Jupyter notebooks: examples_regression_jupyter.zip </examples_regression/examples_regression_jupyter.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
